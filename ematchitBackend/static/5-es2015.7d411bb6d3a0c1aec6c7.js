(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"7gaw":function(e,t,o){"use strict";o.r(t),o.d(t,"ParserModule",(function(){return g}));var n=o("ofXK"),i=o("tyNb"),r=o("tk/3"),a=o("Iab2"),s=o("fXoL"),l=o("AytR");let c=(()=>{class e{constructor(e){this.http=e,this.PROCESS_API=l.a.api+"/process",this.EXPORT_API=l.a.api+"/export",this.INVENTORY_API=l.a.api+"/inventory"}uploadResume(e){return this.http.post(this.PROCESS_API,e,{reportProgress:!0,observe:"events"})}ExportCategories(e){return console.log("calling export categories on url : ",this.EXPORT_API),this.http.post(this.EXPORT_API,e,{observe:"response",responseType:"blob"})}getInventory(e){return this.http.post(this.INVENTORY_API,{username:e},{reportProgress:!0,observe:"events"})}}return e.\u0275fac=function(t){return new(t||e)(s.Qb(r.b))},e.\u0275prov=s.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=o("ccyI"),d=o("3Pt+");function u(e,t){1&e&&(s.Mb(0,"div",10),s.fc(1,"Review"),s.Lb())}function p(e,t){if(1&e){const e=s.Nb();s.Mb(0,"div",11),s.Mb(1,"form",12,13),s.Ub("ngSubmit",(function(){return s.bc(e),s.Wb().onExport()})),s.Mb(3,"div",14),s.Mb(4,"div",15),s.Mb(5,"label"),s.fc(6,"Name*"),s.Lb(),s.Mb(7,"textarea",16),s.Ub("ngModelChange",(function(t){return s.bc(e),s.Wb().cvOwner=t})),s.Lb(),s.Mb(8,"label"),s.fc(9,"email"),s.Lb(),s.Mb(10,"textarea",17),s.Ub("ngModelChange",(function(t){return s.bc(e),s.Wb().email=t})),s.Lb(),s.Mb(11,"label"),s.fc(12,"Phone"),s.Lb(),s.Mb(13,"textarea",18),s.Ub("ngModelChange",(function(t){return s.bc(e),s.Wb().phone=t})),s.Lb(),s.Lb(),s.Lb(),s.Mb(14,"div",15),s.Mb(15,"label"),s.fc(16,"Summary"),s.Lb(),s.Mb(17,"textarea",19),s.Ub("ngModelChange",(function(t){return s.bc(e),s.Wb().others=t})),s.Lb(),s.Lb(),s.Mb(18,"div",15),s.Mb(19,"label"),s.fc(20,"Education"),s.Lb(),s.Mb(21,"textarea",20),s.Ub("ngModelChange",(function(t){return s.bc(e),s.Wb().education=t})),s.Lb(),s.Lb(),s.Mb(22,"div",15),s.Mb(23,"label"),s.fc(24,"Experience"),s.Lb(),s.Mb(25,"textarea",21),s.Ub("ngModelChange",(function(t){return s.bc(e),s.Wb().experience=t})),s.Lb(),s.Lb(),s.Mb(26,"div",15),s.Mb(27,"label"),s.fc(28,"Skills"),s.Lb(),s.Mb(29,"textarea",22),s.Ub("ngModelChange",(function(t){return s.bc(e),s.Wb().skills=t})),s.Lb(),s.Lb(),s.Mb(30,"div",15),s.Mb(31,"label",23),s.fc(32,"Misc"),s.Lb(),s.Mb(33,"textarea",24),s.Ub("ngModelChange",(function(t){return s.bc(e),s.Wb().misc=t})),s.Lb(),s.Lb(),s.Mb(34,"Button",25),s.fc(35,"Export & Download"),s.Kb(36,"i",26),s.Lb(),s.Lb(),s.Lb()}if(2&e){const e=s.ac(2),t=s.Wb();s.zb(7),s.Xb("ngModel",t.cvOwner),s.zb(3),s.Xb("ngModel",t.email),s.zb(3),s.Xb("ngModel",t.phone),s.zb(4),s.Xb("ngModel",t.others),s.zb(4),s.Xb("ngModel",t.education),s.zb(4),s.Xb("ngModel",t.experience),s.zb(4),s.Xb("ngModel",t.skills),s.zb(4),s.Xb("ngModel",t.misc),s.zb(1),s.Xb("disabled",e.invalid)}}const f=[{path:"",component:(()=>{class e{constructor(e,t,o){this.apiService=e,this.authService=t,this.router=o,this.fileUploadProgress=null,this.resumeName="pdf or docx ...",this.loadedResume=!1,this.edit=!1,this.loaded=0,this.total=0}fileProgress(e){this.formData=new FormData;const t=e.target.files[0];this.formData.append("file",t),this.authService.isAuthenticated()?this.formData.append("username",this.authService.getUsername()):this.router.navigate(["/login"]),this.resumeName=t.name,this.loadedResume=!0}onExport(){this.apiService.ExportCategories({skills:this.skills,education:this.education,experience:this.experience,misc:this.misc,name:this.cvOwner,email:this.email,phone:this.phone,others:this.others}).subscribe(e=>Object(a.saveAs)(e.body,"CV_"+this.cvOwner+".docx"))}onSubmit(e){e.preventDefault(),this.fileUploadProgress="0%",this.apiService.uploadResume(this.formData).subscribe(e=>{e.type===r.d.UploadProgress?(this.fileUploadProgress=Math.round(e.loaded/e.total*100)+"%",console.log("progress is "+this.fileUploadProgress),console.log(e)):e.type===r.d.Response&&(this.fileUploadProgress="",console.log(e),this.edit=!0,this.skills=e.body.blocs.skills,this.education=e.body.blocs.education,this.experience=e.body.blocs.xp,this.others=e.body.blocs.nocat,this.misc=e.body.blocs.others,this.email=e.body.blocs.email,this.phone=e.body.blocs.phone,console.log(this.misc),console.log(this.education))})}onLoadInventory(){if(this.authService.isAuthenticated()){let e=this.authService.getUsername();this.apiService.getInventory(e).subscribe(e=>console.log(e))}else this.router.navigate(["/login"])}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(s.Jb(c),s.Jb(b.a),s.Jb(i.a))},e.\u0275cmp=s.Db({type:e,selectors:[["app-parser"]],decls:15,vars:4,consts:[[1,"container"],[1,"col-md-4","centerDiv"],[1,"input-group"],[1,"custom-file"],["type","file","id","inputGroupFile04",1,"custom-file-input",3,"change"],["for","inputGroupFile04",1,"custom-file-label"],[1,"ui","indicating","bar","progress"],[1,"btn","btn-primary",3,"disabled","click"],["class","ui horizontal divider col-md-10",4,"ngIf"],["class","container col-md-6 centerDiv",4,"ngIf"],[1,"ui","horizontal","divider","col-md-10"],[1,"container","col-md-6","centerDiv"],[3,"ngSubmit"],["blocsform","ngForm"],[1,"container","col-md-8",2,"justify-content","flex-start"],[1,"form-group"],["required","","name","cvOwner","placeholder","Please input a name...","rows","1",1,"form-control",3,"ngModel","ngModelChange"],["name","email","rows","1",1,"form-control",3,"ngModel","ngModelChange"],["name","phone","rows","1",1,"form-control",3,"ngModel","ngModelChange"],["name","others","rows","7",1,"form-control",3,"ngModel","ngModelChange"],["name","education","rows","10",1,"form-control",3,"ngModel","ngModelChange"],["name","experience","rows","20",1,"form-control",3,"ngModel","ngModelChange"],["name","skills","rows","10",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleFormControlTextarea1"],["name","misc","rows","5",1,"form-control",3,"ngModel","ngModelChange"],[1,"ui","primary","button",3,"disabled"],[1,"right","arrow","icon"]],template:function(e,t){1&e&&(s.Mb(0,"div",0),s.Mb(1,"div",1),s.Mb(2,"label"),s.Mb(3,"b"),s.fc(4,"Upload your CV"),s.Lb(),s.Lb(),s.Mb(5,"div",2),s.Mb(6,"div",3),s.Mb(7,"input",4),s.Ub("change",(function(e){return t.fileProgress(e)})),s.Lb(),s.Mb(8,"label",5),s.fc(9),s.Lb(),s.Lb(),s.Lb(),s.Kb(10,"div",6),s.Mb(11,"button",7),s.Ub("click",(function(e){return t.onSubmit(e)})),s.fc(12,"Submit"),s.Lb(),s.Lb(),s.Lb(),s.ec(13,u,2,0,"div",8),s.ec(14,p,37,9,"div",9)),2&e&&(s.zb(9),s.gc(t.resumeName),s.zb(2),s.Xb("disabled",!t.loadedResume),s.zb(2),s.Xb("ngIf",t.edit),s.zb(1),s.Xb("ngIf",t.edit))},directives:[n.h,d.n,d.h,d.i,d.a,d.l,d.g,d.j],styles:[".centerDiv[_ngcontent-%COMP%]{margin-top:50px;margin-left:264px}"]}),e})()}];let h=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(t){return new(t||e)},imports:[[i.d.forChild(f)],i.d]}),e})(),g=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(t){return new(t||e)},imports:[[n.b,h,d.f]]}),e})()},Iab2:function(e,t,o){var n,i;void 0===(i="function"==typeof(n=function(){"use strict";function t(e,t,o){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){a(n.response,t,o)},n.onerror=function(){console.error("could not download file")},n.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(o)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,r,a){var s=i.URL||i.webkitURL,l=document.createElement("a");l.download=r=r||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?n(l):o(l.href)?t(e,r,a):n(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){n(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,i,r){if(i=i||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),i);else if(o(e))t(e,i,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){n(a)}))}}:function(e,o,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return t(e,o,n);var s="application/octet-stream"===e.type,l=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||r)&&"undefined"!=typeof FileReader){var b=new FileReader;b.onloadend=function(){var e=b.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},b.readAsDataURL(e)}else{var d=i.URL||i.webkitURL,u=d.createObjectURL(e);a?a.location=u:location.href=u,a=null,setTimeout((function(){d.revokeObjectURL(u)}),4e4)}});i.saveAs=a.saveAs=a,e.exports=a})?n.apply(t,[]):n)||(e.exports=i)}}]);