function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"7gaw":function(e,t,n){"use strict";n.r(t),n.d(t,"ParserModule",(function(){return y}));var o,i=n("ofXK"),r=n("tyNb"),a=n("tk/3"),s=n("Iab2"),l=n("fXoL"),c=n("AytR"),b=((o=function(){function e(t){_classCallCheck(this,e),this.http=t,this.PROCESS_API=c.a.api+"/process",this.EXPORT_API=c.a.api+"/export",this.INVENTORY_API=c.a.api+"/inventory"}return _createClass(e,[{key:"uploadResume",value:function(e){return this.http.post(this.PROCESS_API,e,{reportProgress:!0,observe:"events"})}},{key:"ExportCategories",value:function(e){return console.log("calling export categories on url : ",this.EXPORT_API),this.http.post(this.EXPORT_API,e,{observe:"response",responseType:"blob"})}},{key:"getInventory",value:function(e){return this.http.post(this.INVENTORY_API,{username:e},{reportProgress:!0,observe:"events"})}}]),e}()).\u0275fac=function(e){return new(e||o)(l.Qb(a.b))},o.\u0275prov=l.Fb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),u=n("ccyI"),d=n("3Pt+");function f(e,t){1&e&&(l.Mb(0,"div",10),l.fc(1,"Review"),l.Lb())}function p(e,t){if(1&e){var n=l.Nb();l.Mb(0,"div",11),l.Mb(1,"form",12,13),l.Ub("ngSubmit",(function(){return l.bc(n),l.Wb().onExport()})),l.Mb(3,"div",14),l.Mb(4,"div",15),l.Mb(5,"label"),l.fc(6,"Name*"),l.Lb(),l.Mb(7,"textarea",16),l.Ub("ngModelChange",(function(e){return l.bc(n),l.Wb().cvOwner=e})),l.Lb(),l.Mb(8,"label"),l.fc(9,"email"),l.Lb(),l.Mb(10,"textarea",17),l.Ub("ngModelChange",(function(e){return l.bc(n),l.Wb().email=e})),l.Lb(),l.Mb(11,"label"),l.fc(12,"Phone"),l.Lb(),l.Mb(13,"textarea",18),l.Ub("ngModelChange",(function(e){return l.bc(n),l.Wb().phone=e})),l.Lb(),l.Lb(),l.Lb(),l.Mb(14,"div",15),l.Mb(15,"label"),l.fc(16,"Summary"),l.Lb(),l.Mb(17,"textarea",19),l.Ub("ngModelChange",(function(e){return l.bc(n),l.Wb().others=e})),l.Lb(),l.Lb(),l.Mb(18,"div",15),l.Mb(19,"label"),l.fc(20,"Education"),l.Lb(),l.Mb(21,"textarea",20),l.Ub("ngModelChange",(function(e){return l.bc(n),l.Wb().education=e})),l.Lb(),l.Lb(),l.Mb(22,"div",15),l.Mb(23,"label"),l.fc(24,"Experience"),l.Lb(),l.Mb(25,"textarea",21),l.Ub("ngModelChange",(function(e){return l.bc(n),l.Wb().experience=e})),l.Lb(),l.Lb(),l.Mb(26,"div",15),l.Mb(27,"label"),l.fc(28,"Skills"),l.Lb(),l.Mb(29,"textarea",22),l.Ub("ngModelChange",(function(e){return l.bc(n),l.Wb().skills=e})),l.Lb(),l.Lb(),l.Mb(30,"div",15),l.Mb(31,"label",23),l.fc(32,"Misc"),l.Lb(),l.Mb(33,"textarea",24),l.Ub("ngModelChange",(function(e){return l.bc(n),l.Wb().misc=e})),l.Lb(),l.Lb(),l.Mb(34,"Button",25),l.fc(35,"Export & Download"),l.Kb(36,"i",26),l.Lb(),l.Lb(),l.Lb()}if(2&e){var o=l.ac(2),i=l.Wb();l.zb(7),l.Xb("ngModel",i.cvOwner),l.zb(3),l.Xb("ngModel",i.email),l.zb(3),l.Xb("ngModel",i.phone),l.zb(4),l.Xb("ngModel",i.others),l.zb(4),l.Xb("ngModel",i.education),l.zb(4),l.Xb("ngModel",i.experience),l.zb(4),l.Xb("ngModel",i.skills),l.zb(4),l.Xb("ngModel",i.misc),l.zb(1),l.Xb("disabled",o.invalid)}}var g,h,m,v=[{path:"",component:(g=function(){function e(t,n,o){_classCallCheck(this,e),this.apiService=t,this.authService=n,this.router=o,this.fileUploadProgress=null,this.resumeName="pdf or docx ...",this.loadedResume=!1,this.edit=!1,this.loaded=0,this.total=0}return _createClass(e,[{key:"fileProgress",value:function(e){this.formData=new FormData;var t=e.target.files[0];this.formData.append("file",t),this.authService.isAuthenticated()?this.formData.append("username",this.authService.getUsername()):this.router.navigate(["/login"]),this.resumeName=t.name,this.loadedResume=!0}},{key:"onExport",value:function(){var e=this;this.apiService.ExportCategories({skills:this.skills,education:this.education,experience:this.experience,misc:this.misc,name:this.cvOwner,email:this.email,phone:this.phone,others:this.others}).subscribe((function(t){return Object(s.saveAs)(t.body,"CV_"+e.cvOwner+".docx")}))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),this.fileUploadProgress="0%",this.apiService.uploadResume(this.formData).subscribe((function(e){e.type===a.d.UploadProgress?(t.fileUploadProgress=Math.round(e.loaded/e.total*100)+"%",console.log("progress is "+t.fileUploadProgress),console.log(e)):e.type===a.d.Response&&(t.fileUploadProgress="",console.log(e),t.edit=!0,t.skills=e.body.blocs.skills,t.education=e.body.blocs.education,t.experience=e.body.blocs.xp,t.others=e.body.blocs.nocat,t.misc=e.body.blocs.others,t.email=e.body.blocs.email,t.phone=e.body.blocs.phone,console.log(t.misc),console.log(t.education))}))}},{key:"onLoadInventory",value:function(){if(this.authService.isAuthenticated()){var e=this.authService.getUsername();this.apiService.getInventory(e).subscribe((function(e){return console.log(e)}))}else this.router.navigate(["/login"])}},{key:"ngOnInit",value:function(){}}]),e}(),g.\u0275fac=function(e){return new(e||g)(l.Jb(b),l.Jb(u.a),l.Jb(r.a))},g.\u0275cmp=l.Db({type:g,selectors:[["app-parser"]],decls:15,vars:4,consts:[[1,"container"],[1,"col-md-4","centerDiv"],[1,"input-group"],[1,"custom-file"],["type","file","id","inputGroupFile04",1,"custom-file-input",3,"change"],["for","inputGroupFile04",1,"custom-file-label"],[1,"ui","indicating","bar","progress"],[1,"btn","btn-primary",3,"disabled","click"],["class","ui horizontal divider col-md-10",4,"ngIf"],["class","container col-md-6 centerDiv",4,"ngIf"],[1,"ui","horizontal","divider","col-md-10"],[1,"container","col-md-6","centerDiv"],[3,"ngSubmit"],["blocsform","ngForm"],[1,"container","col-md-8",2,"justify-content","flex-start"],[1,"form-group"],["required","","name","cvOwner","placeholder","Please input a name...","rows","1",1,"form-control",3,"ngModel","ngModelChange"],["name","email","rows","1",1,"form-control",3,"ngModel","ngModelChange"],["name","phone","rows","1",1,"form-control",3,"ngModel","ngModelChange"],["name","others","rows","7",1,"form-control",3,"ngModel","ngModelChange"],["name","education","rows","10",1,"form-control",3,"ngModel","ngModelChange"],["name","experience","rows","20",1,"form-control",3,"ngModel","ngModelChange"],["name","skills","rows","10",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleFormControlTextarea1"],["name","misc","rows","5",1,"form-control",3,"ngModel","ngModelChange"],[1,"ui","primary","button",3,"disabled"],[1,"right","arrow","icon"]],template:function(e,t){1&e&&(l.Mb(0,"div",0),l.Mb(1,"div",1),l.Mb(2,"label"),l.Mb(3,"b"),l.fc(4,"Upload your CV"),l.Lb(),l.Lb(),l.Mb(5,"div",2),l.Mb(6,"div",3),l.Mb(7,"input",4),l.Ub("change",(function(e){return t.fileProgress(e)})),l.Lb(),l.Mb(8,"label",5),l.fc(9),l.Lb(),l.Lb(),l.Lb(),l.Kb(10,"div",6),l.Mb(11,"button",7),l.Ub("click",(function(e){return t.onSubmit(e)})),l.fc(12,"Submit"),l.Lb(),l.Lb(),l.Lb(),l.ec(13,f,2,0,"div",8),l.ec(14,p,37,9,"div",9)),2&e&&(l.zb(9),l.gc(t.resumeName),l.zb(2),l.Xb("disabled",!t.loadedResume),l.zb(2),l.Xb("ngIf",t.edit),l.zb(1),l.Xb("ngIf",t.edit))},directives:[i.h,d.n,d.h,d.i,d.a,d.l,d.g,d.j],styles:[".centerDiv[_ngcontent-%COMP%]{margin-top:50px;margin-left:264px}"]}),g)}],M=((m=function e(){_classCallCheck(this,e)}).\u0275mod=l.Hb({type:m}),m.\u0275inj=l.Gb({factory:function(e){return new(e||m)},imports:[[r.d.forChild(v)],r.d]}),m),y=((h=function e(){_classCallCheck(this,e)}).\u0275mod=l.Hb({type:h}),h.\u0275inj=l.Gb({factory:function(e){return new(e||h)},imports:[[i.b,M,d.f]]}),h)},Iab2:function(e,t,n){var o,i;void 0===(i="function"==typeof(o=function(){"use strict";function t(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){a(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,r,a){var s=i.URL||i.webkitURL,l=document.createElement("a");l.download=r=r||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):n(l.href)?t(e,r,a):o(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,i,r){if(i=i||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),i);else if(n(e))t(e,i,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){o(a)}))}}:function(e,n,o,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,o);var s="application/octet-stream"===e.type,l=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||r)&&"undefined"!=typeof FileReader){var b=new FileReader;b.onloadend=function(){var e=b.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},b.readAsDataURL(e)}else{var u=i.URL||i.webkitURL,d=u.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});i.saveAs=a.saveAs=a,e.exports=a})?o.apply(t,[]):o)||(e.exports=i)}}]);